<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Concise API</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../intro_to_ADRIA.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> User Guide</div></li><li class="chapter-item expanded "><a href="../dev_guide/SUMMARY.html"><strong aria-hidden="true">3.</strong> ADRIA Developer Guide</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../dev_guide/dev_setup.html"><strong aria-hidden="true">3.1.</strong> Setup</a></li><li class="chapter-item expanded "><a href="../dev_guide/parameter_interface.html"><strong aria-hidden="true">3.2.</strong> ADRIA Parameter Interface</a></li><li class="chapter-item expanded "><a href="../dev_guide/dMCDA.html"><strong aria-hidden="true">3.3.</strong> Dynamic Multi-Criteria Decision Making/Analysis</a></li><li class="chapter-item expanded "><a href="../dev_guide/metrics.html"><strong aria-hidden="true">3.4.</strong> Metrics</a></li><li class="chapter-item expanded "><a href="../dev_guide/sensitivity_analysis.html"><strong aria-hidden="true">3.5.</strong> Sensitivity Analysis</a></li><li class="chapter-item expanded "><a href="../dev_guide/optimization.html"><strong aria-hidden="true">3.6.</strong> Optimization</a></li><li class="chapter-item expanded "><a href="../dev_guide/scenario_discovery.html"><strong aria-hidden="true">3.7.</strong> Scenario Discovery</a></li><li class="chapter-item expanded "><a href="../dev_guide/documentation_build.html"><strong aria-hidden="true">3.8.</strong> Documentation Build Process</a></li><li class="chapter-item expanded "><a href="../dev_guide/concise_API.html" class="active"><strong aria-hidden="true">3.9.</strong> Concise API</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="../contributors.html">Contributors</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="concise-api-overview"><a class="header" href="#concise-api-overview">Concise API Overview</a></h1>
<p>A non-exhaustive overview of high-level ADRIA functions.</p>
<p>The functions documented below form the core API through which developers interact with ADRIA.</p>
<p>WARNING: These functions and accompanying documentation are still under development and their names, expected inputs, outputs, and usage may change.</p>
<h2 id="interventiondetails"><a class="header" href="#interventiondetails">interventionDetails()</a></h2>
<p>Detail intervention parameter values and expected ranges.
Default values for each intervention option can be specified
to override defaults.</p>
<p><strong>Inputs:</strong></p>
<p>Argument list of parameters to override.
Possible arguments (with default values):</p>
<ul>
<li>Guided   : [0, 1]</li>
<li>PrSites  : 3</li>
<li>Seed1    : [0, 0.0005, 0.0010]</li>
<li>Seed2    : 0</li>
<li>SRM      : 0</li>
<li>Aadpt    : [6, 12]</li>
<li>Natad    : 0.05</li>
<li>Seedyrs  : 10</li>
<li>Shadeyrs : 1</li>
</ul>
<p><strong>Outputs:</strong></p>
<p>Table of </p>
<ul>
<li>name</li>
<li>ptype (<code>categorical</code>, <code>integer</code>, or <code>float</code>)</li>
<li>defaults</li>
<li>lower_bound (min of discrete values)</li>
<li>upper_bound (max of discrete values)</li>
<li>options (possible discrete values for categoricals)</li>
<li>raw_lower_bound (min of option values)</li>
<li>raw_upper_bound (max of option values)</li>
</ul>
<p>The <code>raw_*_bound</code> columns hold the raw values prior to any transformation,
and maps option IDs to their ADRIA expected values.</p>
<p>The <code>lower/upper</code> columns indicates the min/max range of option IDs for
categorical values, and are simply copies if the options are real-valued.</p>
<h2 id="criteriadetails"><a class="header" href="#criteriadetails">criteriaDetails()</a></h2>
<p>Detail criteria weight values and expected ranges.
Default values for each criteria/option can be specified
to override default values.</p>
<p><strong>Inputs:</strong></p>
<p>Argument list of parameters to override.
Possible arguments (with default values):</p>
<ul>
<li>wave_stress             : 1</li>
<li>heat_stress             : 0</li>
<li>shade_connectivity      : 0</li>
<li>seed_connectivity       : 0</li>
<li>coral_cover_high        : 0</li>
<li>coral_cover_low         : 0</li>
<li>seed_priority           : 1</li>
<li>shade_priority          : 0</li>
<li>deployed_coral_risk_tol : 1</li>
</ul>
<p><strong>Outputs:</strong></p>
<p>Table of </p>
<ul>
<li>name</li>
<li>ptype (<code>categorical</code>, <code>integer</code>, or <code>float</code>)</li>
<li>defaults</li>
<li>lower_bound (min/max of discrete values)</li>
<li>upper_bound</li>
<li>options (possible discrete values for categoricals)</li>
<li>raw_lower_bound (min/max of option values)</li>
<li>raw_upper_bound (min/max of option values)</li>
</ul>
<p>The <code>raw_*_bound</code> columns hold the raw values prior to any transformation,
and maps option IDs to their ADRIA expected values.</p>
<p>The <code>lower/upper</code> columns indicates the min/max range of option IDs for
categorical values, and are simply copies if the options are real-valued.</p>
<h2 id="coreparamdetails"><a class="header" href="#coreparamdetails">coreParamDetails()</a></h2>
<p>TBD</p>
<h2 id="ecolparamdetails"><a class="header" href="#ecolparamdetails">ecolParamDetails()</a></h2>
<p>TBD</p>
<h2 id="convertscenarioselection"><a class="header" href="#convertscenarioselection">convertScenarioSelection()</a></h2>
<p>Converts selected discrete values back to their categorical options.</p>
<p>If a parameter is of type <code>categorical</code> and can be <code>A</code> or <code>B</code>
The possible categorical options are <code>1 =&gt; A</code> and <code>2 =&gt; B</code>.</p>
<p>The <code>sel_values</code> array will hold values of <code>1</code> or <code>2</code>, and
this function maps this back to <code>A</code> or <code>B</code> for use with ADRIA.</p>
<p><strong>Inputs:</strong></p>
<ul>
<li>sel_values : table, of selected parameter values</li>
<li>p_opts     : table, of parameter options (value ranges, etc)</li>
</ul>
<p><strong>Outputs:</strong></p>
<ul>
<li>converted : table, of selected parameter values mapped back to their actual values.</li>
</ul>
<p>See also:
<a href="#interventiondetails"><code>interventionDetails()</code></a>, <a href="#criteriadetails"><code>criteriaDetails()</code></a></p>
<h2 id="siteconnectivity"><a class="header" href="#siteconnectivity">siteConnectivity()</a></h2>
<p>Create transitional probability matrix indicating connectivity between
sites, level of centrality, and the strongest predecessor for each site.</p>
<p><strong>Inputs:</strong></p>
<ul>
<li>file       : str, path to data file to load</li>
<li>con_cutoff : float, percent thresholds of max for weak connections in network (defined in ADRIAparms.m)</li>
</ul>
<p><strong>Output:</strong></p>
<ul>
<li>TP_data     : table, containing the transition probability for all sites (float)</li>
<li>site_ranks : table, centrality for each site</li>
<li>strongpred : matrix, strongest predecessor for each site</li>
</ul>
<h2 id="savedata"><a class="header" href="#savedata">saveData()</a></h2>
<p>Convenience function to save data to file in CSV, <code>.mat</code> or NetCDF format.</p>
<p>If file is not specified, generates a filename based on date/time.</p>
<p>If NetCDF format is specified, attempts to create a new NetCDF file
and field/variable (specified by <code>nc_varname</code>). If the file already
exists, then the new variable is created. This function does not
support overwriting existing variables and so variable names must be
unique.</p>
<p>Note: If NetCDF is specified and <code>data</code> is a struct,
this function will attempt to create an entry for each item
and infer its dimensions (up to 5) and name (using the struct
fieldnames).</p>
<p><strong>Inputs:</strong></p>
<ul>
<li>data       : any, data to save</li>
<li>filename   : str (optional), file name and location of file.
Defaults to <code>ADRIA_results_[current time].csv</code>
if nothing specified.</li>
<li>nc_settings: Named Arguments (optional, required for <code>.nc</code>).
- var_name : string, name of variable
- dim_spec : cell, of variable dimensions
e.g., <code>{'x_name', 10, 'y_name', 5}</code>
- compression : int, compression level to use
0 to 9, where 0 is no compression, and 9 is
maximum compression.
Defaults to 4.</li>
</ul>
<p>Usage Example:</p>
<pre><code class="language-matlab">data = rand(5,5)

These are equivalent
saveData(data, 'example')
saveData(data, 'example.csv')

Saving a 5x5 dimension array to NetCDF
saveData(data, 'example.nc', var_name='out', ...
         dim_spec={'x', 5, 'y', 5}, compression=4)

Saving a struct to NetCDF
Supports up to 5 dimensions per variable
tmp = struct('x', rand(2,2), 'y', rand(2,2,2,2))
saveData(tmp, 'example.nc', compression=8)
</code></pre>
<h2 id="runadriascenario"><a class="header" href="#runadriascenario">runADRIAScenario()</a></h2>
<p>Run a single intervention scenario with given criteria and parameters
If each input was originally a table, this is equivalent to a running 
a single row from each (i.e., a unique combination of intervention and parameter values)</p>
<p><strong>Inputs:</strong></p>
<ul>
<li>interv      : table, row of intervention table</li>
<li>criteria    : table, row of criteria weights table</li>
<li>params      : table, row of environment parameter permutations</li>
<li>ecol_params : table, row of ecological parameter permutations</li>
<li>wave_scen   : matrix[timesteps, nsites], spatio-temporal wave damage scenario</li>
<li>dhw_scen    : matrix[timesteps, nsites], degree heating weeek scenario</li>
<li>alg_ind     : int, algorithm choice (1, 2, 3)</li>
</ul>
<p><strong>Example: [UNFINISHED]</strong></p>
<pre><code class="language-matlab">%Set up parameters
interv = interventionDetails();
criteria = criteriaDetails();
p_opts = [interv; criteria];  join tables together

X ...;  some sampling process

map back to categorical options as necessary
X = convertScenarioSelection(X, p_opts)

other parameters are static 
environmental and ecological parameter values etc
[params, ecol_params] = ADRIAparms();

%Load site data
[F0, xx, yy, nsites] = ADRIA_siteTable('MooreSites.xlsx');
[TP_data, site_ranks, strongpred] = siteConnectivity('MooreTPmean.xlsx', params.con_cutoff);

ninter = height(X, 1);
alg_ind = 1;

%Set up result array
Y = ... some NxD array where N is no. of sims and D is no. of outputs

%Run simulations
parfor i = 1:ninter
    Y(i) = runADRIAScenario(IT(i, :), criteria_weights(i, :), ...
                            param_tbl(i, :), ecol_tbl(i, :), ...
                            TP_data, site_ranks, strongpred, nsites, ...
                            w_scen, d_scen, alg_ind);
end

%Save results
saveData(Y, &quot;example_results.mat&quot;)
</code></pre>
<h2 id="collectdistributedresults"><a class="header" href="#collectdistributedresults">collectDistributedResults()</a></h2>
<p>Collects results from ADRIA runs written to disk spread across many NetCDF files.</p>
<p><strong>Inputs:</strong></p>
<ul>
<li>file_prefix : str, prefix applied to filenames</li>
<li>N           : int, number of expected scenarios</li>
<li>n_reps      : int, number of expected replicates</li>
<li>dir_name    : str, (optional) directory to search
Default: current working directory</li>
<li>n_species   : int, (optional) number of species considered. Default: 4</li>
</ul>
<p><strong>Output:</strong></p>
<ul>
<li>Y_collated : struct,
- TC [n_timesteps, n_sites, N, n_reps]
- C  [n_timesteps, n_sites, N, n_species, n_reps]
- E  [n_timesteps, n_sites, N, n_reps]
- S  [n_timesteps, n_sites, N, n_reps]</li>
</ul>
<h2 id="adria_dmcda"><a class="header" href="#adria_dmcda">ADRIA_DMCDA()</a></h2>
<p>Allows selection from 3 MCDA algorithms to make dynamic site selection decisions within ADRIA. Selection decisions are based on a decision matrix A,
which currently incoporates connectivity, wave stress, heat stress, coral cover and priority predecessors as criteria. Each algorithm carries out a different decision strategy:</p>
<p>1 : order ranking</p>
<ul>
<li>ranks sites according to additive ranking</li>
<li>rank calculated from the sum of the columns of A</li>
<li>Strategy: When overall performance matters and trade-offs between criteria need not be considered (also least computationally expensive).</li>
</ul>
<p>2 : TOPSIS</p>
<ul>
<li>ranks sites according a ratio </li>
<li>ratio is calculated from the geometric distance from the Positive Ideal Solution PIS and Negative Ideal Solution NIS</li>
<li>See Hsu-Shih Shih, Huan-Jyh Shyur, E. Stanley Lee, 2007 An extension of TOPSIS for group decision making, Mathematical and Computer Modelling, vol. 45:7–8.</li>
<li>Strategy: When trade-offs between criteria should be considered, but it is not necessary to avoid hidden value extremes.</li>
</ul>
<p>3 : VIKOR </p>
<ul>
<li>ranks sites according to a linear combination of  two measures, S and R.</li>
<li>S measures 'group utility', or the performance of site x against all criteria</li>
<li>R measures 'individual regret', or the maximum deviance of site x from the best ranked sites under all criteria</li>
<li>weightings of R and S in the linear combination are chosen to balance group utility and individual regret (currently both set at 0.5)</li>
<li>See Alidrisi, Hisham, 2021 An Innovative Job Evaluation Approach Using the VIKOR Algorithm, Journal of Risk and Financial Management, vol. 14:6.</li>
<li>Strategy: When trade-offs between criteria should be considered and the decision-maker wants to weight against potential poorly performing criteria which can       be hidden in trade-offs.</li>
</ul>
<p><strong>Inputs:</strong></p>
<ul>
<li>
<p>DMCDAvars    : a structure of the form struct('nsites', [], 'nsiteint', [], ...
'strongpred', [], 'centr', [], 'damprob', [], 'heatstressprob', [], ...
'prioritysites', [], 'sumcover', [], 'risktol', [], 'wtconseed', [], ...
'wtconshade', [],'wtwaves', [], 'wtheat', [], 'wthicover', [], ...
'wtlocover', [], 'wtpredecseed', [], 'wtpredecshade', []);
where []'s are dynamically updated in runADRIA.m</p>
<pre><code>- nsites : total number of sites
- nsiteint : number of sites to select for priority interventions
- strongpred : strongest predecessor sites (calculated in ADRIA_TP_Moore())
- centr : site centrality (calculated in ADRIA_TP_Moore())
- damprob : probability of coral wave damage for each site
- heatstressprob : probability of heat stress for each site
- prioritysites : list of sites in group (i.e. prsites: 1,2,3)
- sumcover : total coral cover
- risktol : risk tolerance (input by user from criteriaWeights/Details)
- wtconseed : weight of connectivity for seeding
- wtconshade : weight of connectivity for shading
- wtwaves : weight of wave damage
- wtheat : weight of heat risk
- wthicover : weight of high coral cover
- wtlocover : weight of low coral cover
- wtpredecseed : weight for seeding predecessors of priority reefs
- wtpredecshade : weight for shading predecessors of priority reefs
</code></pre>
</li>
<li>
<p>alg_ind   : an integer indicating the algorithm to be used for the multi-criteria anlysis 
(1: order-ranking, 2: TOPSIS, 3: VIKOR, 4: multi-obj ranking</p>
</li>
</ul>
<p><strong>Output:</strong></p>
<ul>
<li>prefseedsites : array of recommended best sites for seeding</li>
<li>prefshadesites : array of recommended best sites for shading</li>
<li>nprefseedsites : number of seeding sites chosen by MCDA</li>
<li>nprefshadesites : number of shading sites chosen by MCDA</li>
</ul>
<h2 id="multiobjoptimisation"><a class="header" href="#multiobjoptimisation">multiObjOptimisation()</a></h2>
<p>multiObjOptimisation takes variables for RCP and  and runs an optimisation algorithm to maximise outputs with
respect to the intervention variables Guided, PrSites, Seed1, Seed2, SRM, AaAdpt, NatAdpt, Seedyrs, Shadeyrs, wave_stress, heat_stress, 
shade_connectivity, seed_connectivity, coral_cover_high, coral_cover_low, seed_priority, shade_priority, deployed_coral_risk_tol.
If 2 inputs, will use shell variables for ES_vars and RCP. If &gt; 2 inputs, will use these as ES_sites and RCP.</p>
<p>** Inputs :**</p>
<ul>
<li>alg : indicates MCDA algorithm to be used
1 - Order Ranking
2 - TOPSIS
3 - VIKOR</li>
<li>out_names: indicates which outputs to optimise over as a cell structture of strings
e.g. out_names = {'TC','CES','PES'};</li>
<li>fn: string giving file location within GitRepo of DHW data for reef of interest</li>
<li>TP_data: structure generated from ADRIA_TP function</li>
<li>site_ranks : structure generated from ADRIA_TP function</li>
<li>strongpred : structure generated from ADRIA_TP function</li>
<li>varargin : default values used if not specified</li>
<li>varargin{1} : rcp (rcp scenario value 2.6,4.5,6.0,8.5)</li>
<li>varargin{2} : ES_vars (1*7 array with structure [evcult, strcult, evprov, 
strprov,TCsatCult,TCsatProv,cf])</li>
</ul>
<p><strong>Outputs:</strong></p>
<ul>
<li>x : [Guided, PrSites, Seed1,Seed2,SRM,Aadpt,Natad, AaAdpt, NatAdpt, Seedyrs, Shadeyrs, wave_stress, heat_stress, 
shade_connectivity, seed_connectivity, coral_cover_high, coral_cover_low, seed_priority, 
shade_priority, deployed_coral_risk_tol]</li>
<li>fval : the max value/optimal value of the chosen metrics </li>
</ul>
<p>See also:
<a href="#allparammultiobjectivefunc"><code>allParamMultiObjectiveFunc()</code></a></p>
<p><strong>Example:</strong></p>
<pre><code class="language-matlab">%% Example for simple usage of the optimisation function ADRIAOptimisation
%% 1 : only optimise for average total coral cover av_TC

use simplest MDCA algorithm for now
alg = 1;

use all sites (C)
prsites = 3; 

optimisation specification - want to optimise over TC and CES so indicate 1 in their placeholders
opti_ind = [1,0,0,1,0];

declare filename appendage to tag as example
file_ap = 'Example2obj';

perform optimisation (takes a while, be warned, improvements to
efficiency to be made)
[x,fval] = ADRIAOptimisation(alg,opti_ind,prsites,rcp,file_ap);

print results (also automatically saved to a struct in a .mat file) 
sprintf('Optimal intervention values were found to be Seed1: %1.4f, Seed2: %1.4f, SRM: %2.0f, AsAdt: %2.0f, NatAdt: %1.2f, with av_TC = %1.4f, av_CES = %1.4f',...
    x(1),x(2),x(3),x(4),x(5),fval(1),fval(2));
</code></pre>
<h2 id="allparammultiobjectivefunc"><a class="header" href="#allparammultiobjectivefunc">allParamMultiObjectiveFunc()</a></h2>
<p>Formulation of runADRIA which allows for optimisation as an objective function with conventional Matlab optimisation functions. Gives TC, S, C,
CES and PES as possible outputs, as specified in tgt_names.
Currently averages over space and time to acheive suitable format (more descriptive formats such as distribution summary statistics, 
kdes etc may come in later versions).</p>
<p><strong>Input:</strong></p>
<ul>
<li>x             : array, perturbed parameters</li>
<li>alg           : int, ranking algorithm </li>
<li>tgt_names      : cell of strs, name of output to optimize (TC, E, S, CES, PES)</li>
<li>combined_opts : table, ADRIA parameter details</li>
<li>nsites        : int, number of sites</li>
<li>wave_scens    : matrix, available wave damage scenarios</li>
<li>dhw_scens     : matrix, available DHW scenarios</li>
<li>params        : array, core ADRIA parameter values (TO BE REPLACED)</li>
<li>ecol_parms    : array, ADRIA ecological parameter values (TO BE REPLACED)</li>
<li>TP_data       : array, Transition probability data</li>
<li>site_ranks    : array, site centrality data</li>
<li>strongpred    : array, data indicating strongest predecessor per site</li>
</ul>
<p><strong>Output:</strong> </p>
<ul>
<li>av_res : average result (specified by tgt_name) over time/sites, as an array of dimension 1*(length of tgt_names)</li>
</ul>
<h2 id="estimateruntime"><a class="header" href="#estimateruntime">estimateRuntime()</a></h2>
<p>Estimate total runtime based on a separate early indicative trial.</p>
<p>NOTE:
Assumes all detected cores are used.
These are indicative estimates only with no guarantee of accuracy
or reliability.</p>
<p><strong>Input:</strong>
n_sims  : int, number of simulations to be run
n_steps : int, number of time steps to be run
n_sites : int, number of sites considered</p>
<p><strong>Output:</strong>
est : float, estimated runtime (in seconds)</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../dev_guide/documentation_build.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../contributors.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../dev_guide/documentation_build.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../contributors.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
